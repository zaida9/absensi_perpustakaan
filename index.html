<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Absensi Perpustakaan ğŸ“š</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Poppins:wght@300;400;600&display=swap');

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg,#e0c3fc,#8ec5fc);
    padding: 20px;
}

.container { max-width: 1100px; margin: auto; }

.header {
    background: linear-gradient(135deg,#a8edea,#fed6e3);
    padding: 35px;
    border-radius: 25px;
    text-align: center;
    margin-bottom: 25px;
}

.header h1 {
    font-family: 'Fredoka';
    color: #6b46c1;
    font-size: 2.8em;
}

.header p {
    color: #ff6b9d;
    font-weight: 600;
}

.tab-navigation {
    display: flex;
    gap: 15px;
    justify-content: center;
    margin-bottom: 25px;
}

.tab-btn {
    padding: 12px 30px;
    border: none;
    border-radius: 20px;
    font-family: 'Fredoka';
    font-size: 1.1em;
    cursor: pointer;
    background: white;
}

.tab-btn.active {
    background: #ff6b9d;
    color: white;
}

.tab-content { display: none; }
.tab-content.active { display: block; }

.form-card {
    background: white;
    padding: 35px;
    border-radius: 25px;
}

.form-section { margin-bottom: 25px; }

.form-section h2 {
    font-family: 'Fredoka';
    color: #6b46c1;
    margin-bottom: 15px;
}

.input-group { margin-bottom: 15px; }

.input-group label {
    font-weight: 600;
    color: #6b46c1;
}

.input-group input,
.input-group select {
    width: 100%;
    padding: 12px;
    border-radius: 12px;
    border: 2px solid #e0c3fc;
}

.mood-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(90px,1fr));
    gap: 15px;
}

.mood-option {
    text-align: center;
    padding: 20px;
    border-radius: 18px;
    cursor: pointer;
    background: #ffeaa7;
    border: 3px solid transparent;
}

.mood-option.selected {
    border-color: #6b46c1;
    background: #a8edea;
}

.mood-emoji { font-size: 3em; }

.submit-btn {
    width: 100%;
    padding: 18px;
    border: none;
    border-radius: 20px;
    background: #ff6b9d;
    color: white;
    font-family: 'Fredoka';
    font-size: 1.3em;
    cursor: pointer;
}

.dashboard-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(200px,1fr));
    gap: 20px;
}

.stat-card {
    background: white;
    padding: 25px;
    border-radius: 20px;
    text-align: center;
}

.stat-number {
    font-size: 2.5em;
    font-family: 'Fredoka';
    color: #6b46c1;
}

.attendance-card {
    background: white;
    padding: 20px;
    border-radius: 20px;
    display: flex;
    gap: 20px;
    margin-bottom: 15px;
}

.card-emoji { font-size: 4em; }

.notification {
    position: fixed;
    top: 20px;
    right: 20px;
    background: #a8edea;
    padding: 15px 25px;
    border-radius: 15px;
    display: none;
}
.notification.show { display: block; }
</style>
</head>

<body>

<div class="notification" id="notification"></div>

<div class="container">
<div class="header">
    <h1>ğŸ“š Absensi Perpustakaan</h1>
    <p>Hari ini kamu merasa bagaimana? ğŸ’–</p>
</div>

<div class="tab-navigation">
    <button class="tab-btn active" onclick="switchTab('form')">ğŸ“ Form</button>
    <button class="tab-btn" onclick="switchTab('dashboard')">ğŸ“Š Dashboard</button>
</div>

<!-- FORM -->
<div id="formTab" class="tab-content active">
<div class="form-card">
<form id="attendanceForm">

<div class="form-section">
<h2>ğŸ§‘ Data Diri</h2>
<div class="input-group">
<label>Nama</label>
<input type="text" id="nama">
</div>
<div class="input-group">
<label>Kelas</label>
<select id="kelas">
<option value="">Pilih</option>
<option>7A</option><option>7B</option><option>8A</option><option>9A</option>
</select>
</div>
<div class="input-group">
<label>Tujuan</label>
<select id="tujuan">
<option value="">Pilih</option>
<option>Membaca</option>
<option>Pinjam Buku</option>
<option>Tugas</option>
</select>
</div>
<div class="input-group">
<label>Status</label>
<select id="status">
<option value="">Pilih</option>
<option>Hadir</option>
<option>Izin</option>
<option>Sakit</option>
</select>
</div>
</div>

<div class="form-section">
<h2>ğŸ˜Š Mood Hari Ini</h2>
<div class="mood-grid">
<div class="mood-option" data-mood="Senang" data-emoji="ğŸ˜„"><div class="mood-emoji">ğŸ˜„</div>Senang</div>
<div class="mood-option" data-mood="Sedih" data-emoji="ğŸ˜¢"><div class="mood-emoji">ğŸ˜¢</div>Sedih</div>
<div class="mood-option" data-mood="Marah" data-emoji="ğŸ˜¡"><div class="mood-emoji">ğŸ˜¡</div>Marah</div>
<div class="mood-option" data-mood="Lelah" data-emoji="ğŸ˜´"><div class="mood-emoji">ğŸ˜´</div>Lelah</div>
</div>
</div>

<button class="submit-btn">Absen Sekarang ğŸ’–</button>
</form>
</div>
</div>

<!-- DASHBOARD -->
<div id="dashboardTab" class="tab-content">
<div class="dashboard-stats">
<div class="stat-card"><div class="stat-number" id="totalAbsensi">0</div>Total Absensi</div>
<div class="stat-card"><div class="stat-number" id="totalHadir">0</div>Hadir</div>
</div>

<br>
<div id="attendanceContainer"></div>
</div>
</div>

<script>
let selectedMood = null;
let selectedEmoji = null;
let attendanceData = JSON.parse(localStorage.getItem('attendance')) || [];

document.querySelectorAll('.mood-option').forEach(el => {
    el.onclick = () => {
        document.querySelectorAll('.mood-option').forEach(m => m.classList.remove('selected'));
        el.classList.add('selected');
        selectedMood = el.dataset.mood;
        selectedEmoji = el.dataset.emoji;
    };
});

document.getElementById('attendanceForm').onsubmit = e => {
    e.preventDefault();

    const nama = nama.value.trim();
    if (!nama || !kelas.value || !tujuan.value || !status.value || !selectedMood) {
        notify("Lengkapi semua data ya ğŸ˜­");
        return;
    }

    attendanceData.push({
        nama, kelas: kelas.value, tujuan: tujuan.value,
        status: status.value,
        mood: selectedMood,
        emoji: selectedEmoji,
        waktu: new Date().toLocaleTimeString()
    });

    localStorage.setItem('attendance', JSON.stringify(attendanceData));
    render();
    notify("ğŸ‰ Absensi berhasil!");
    e.target.reset();
    selectedMood = null;
    document.querySelectorAll('.mood-option').forEach(m => m.classList.remove('selected'));
};

function render() {
    attendanceContainer.innerHTML = '';
    attendanceData.forEach(d => {
        attendanceContainer.innerHTML += `
        <div class="attendance-card">
            <div class="card-emoji">${d.emoji}</div>
            <div>
                <b>${d.nama}</b><br>
                ${d.kelas} â€¢ ${d.tujuan}<br>
                ${d.status} â€¢ ${d.waktu}
            </div>
        </div>`;
    });
    totalAbsensi.textContent = attendanceData.length;
    totalHadir.textContent = attendanceData.filter(d => d.status === 'Hadir').length;
}

function notify(msg){
    notification.textContent = msg;
    notification.classList.add('show');
    setTimeout(()=>notification.classList.remove('show'),3000);
}

function switchTab(tab){
    document.querySelectorAll('.tab-content').forEach(t=>t.classList.remove('active'));
    document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
    if(tab==='form'){formTab.classList.add('active');}
    else{dashboardTab.classList.add('active');}
    event.target.classList.add('active');
}

render();
</script>
</body>
</html>
