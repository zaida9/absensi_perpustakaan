<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Absensi Perpustakaan ğŸ“š</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Poppins&display=swap" rel="stylesheet">

<style>
body{
    font-family:'Poppins',sans-serif;
    background:linear-gradient(135deg,#a8edea,#fed6e3);
    padding:20px;
}
.container{max-width:1000px;margin:auto}
.header{
    background:white;border-radius:25px;padding:30px;text-align:center;margin-bottom:20px;
}
.header h1{font-family:'Fredoka';color:#6b46c1;margin-bottom:5px}
.header p{color:#ff6b9d;font-weight:600}

.tab{
    display:flex;gap:15px;justify-content:center;margin-bottom:20px;
}
.tab button{
    padding:12px 25px;border:none;border-radius:20px;
    font-family:'Fredoka';cursor:pointer;background:white;
}
.tab .active{background:#ff6b9d;color:white}

.card{
    background:white;padding:25px;border-radius:25px;
}

input,select{
    width:100%;padding:12px;margin-top:10px;border-radius:15px;border:2px solid #ddd;
}

.moods{
    display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:15px;
}
.mood{
    background:#ffeaa7;border-radius:20px;padding:20px;
    text-align:center;font-size:32px;cursor:pointer;
}
.mood.active{
    background:#a8edea;box-shadow:0 0 15px rgba(0,0,0,.2);
}

button.submit{
    margin-top:20px;width:100%;padding:15px;font-size:18px;
    font-family:'Fredoka';border:none;border-radius:20px;
    background:#ff6b9d;color:white;cursor:pointer;
}

/* TABLE */
table{
    width:100%;border-collapse:collapse;margin-top:20px;
    overflow:hidden;border-radius:20px;
}
thead{
    background:#ff6b9d;color:white;font-family:'Fredoka';
}
th,td{padding:12px;text-align:center}
tbody tr:nth-child(even){background:#f7f7ff}
tbody tr:hover{background:#e0f7fa}
</style>
</head>

<body>
<div class="container">

<div class="header">
    <h1>ğŸ“š Absensi Perpustakaan</h1>
    <p>Isi absensi & pilih mood kamu hari ini ğŸ’–</p>
</div>

<div class="tab">
    <button id="btnForm" class="active" onclick="showTab('form')">ğŸ“ Form</button>
    <button id="btnData" onclick="showTab('data')">ğŸ“Š Data</button>
</div>

<!-- FORM -->
<div id="form" class="card">
    <input id="nama" placeholder="Nama Lengkap">
    <input id="kelas" placeholder="Kelas">

    <select id="tujuan">
        <option value="">Tujuan ke Perpustakaan</option>
        <option>Membaca</option>
        <option>Pinjam Buku</option>
        <option>Mengerjakan Tugas</option>
    </select>

    <div class="moods">
        <div class="mood" data="ğŸ˜„ Senang">ğŸ˜„</div>
        <div class="mood" data="ğŸ˜¢ Sedih">ğŸ˜¢</div>
        <div class="mood" data="ğŸ˜¡ Marah">ğŸ˜¡</div>
        <div class="mood" data="ğŸ˜´ Lelah">ğŸ˜´</div>
        <div class="mood" data="ğŸ¤¯ Stres">ğŸ¤¯</div>
        <div class="mood" data="ğŸ˜ Biasa">ğŸ˜</div>
    </div>

    <button class="submit" onclick="simpan()">Absen Sekarang ğŸ’•</button>
</div>

<!-- DATA -->
<div id="data" class="card" style="display:none">
    <h3 style="text-align:center;font-family:Fredoka;color:#6b46c1">
        ğŸ“‹ Data Absensi Hari Ini
    </h3>

    <table>
        <thead>
            <tr>
                <th>No</th>
                <th>Nama</th>
                <th>Kelas</th>
                <th>Tujuan</th>
                <th>Mood</th>
                <th>Waktu</th>
            </tr>
        </thead>
        <tbody id="list"></tbody>
    </table>
</div>

</div>

<script>
let moodDipilih="";

document.querySelectorAll(".mood").forEach(m=>{
    m.onclick=()=>{
        document.querySelectorAll(".mood").forEach(x=>x.classList.remove("active"));
        m.classList.add("active");
        moodDipilih=m.getAttribute("data");
    }
});

function simpan(){
    const nama=document.getElementById("nama").value;
    const kelas=document.getElementById("kelas").value;
    const tujuan=document.getElementById("tujuan").value;

    if(!nama || !kelas || !tujuan || !moodDipilih){
        alert("Lengkapi semua data ya ğŸ˜¡");
        return;
    }

    const data={
        nama,kelas,tujuan,
        mood:moodDipilih,
        waktu:new Date().toLocaleString()
    };

    const arr=JSON.parse(localStorage.getItem("absensi"))||[];
    arr.push(data);
    localStorage.setItem("absensi",JSON.stringify(arr));

    tampil();
    showTab('data');

    document.getElementById("nama").value="";
    document.getElementById("kelas").value="";
    document.getElementById("tujuan").value="";
    moodDipilih="";
    document.querySelectorAll(".mood").forEach(x=>x.classList.remove("active"));
}

function tampil(){
    const list=document.getElementById("list");
    list.innerHTML="";
    const arr=JSON.parse(localStorage.getItem("absensi"))||[];

    if(arr.length===0){
        list.innerHTML=`<tr><td colspan="6">Belum ada data</td></tr>`;
        return;
    }

    arr.forEach((a,i)=>{
        list.innerHTML+=`
        <tr>
            <td>${i+1}</td>
            <td>${a.nama}</td>
            <td>${a.kelas}</td>
            <td>${a.tujuan}</td>
            <td>${a.mood}</td>
            <td>${a.waktu}</td>
        </tr>`;
    });
}

function showTab(tab){
    document.getElementById("form").style.display = tab==="form"?"block":"none";
    document.getElementById("data").style.display = tab==="data"?"block":"none";
    btnForm.classList.toggle("active",tab==="form");
    btnData.classList.toggle("active",tab==="data");
    tampil();
}

tampil();
</script>

</body>
</html>
