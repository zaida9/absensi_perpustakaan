<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Absensi Perpustakaan ğŸ“š</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Poppins&display=swap" rel="stylesheet">

<style>
body{
    font-family:'Poppins',sans-serif;
    background:linear-gradient(135deg,#a8edea,#fed6e3);
    padding:20px;
}
.container{max-width:900px;margin:auto}
.header{
    background:white;
    border-radius:25px;
    padding:30px;
    text-align:center;
    margin-bottom:20px;
}
.header h1{font-family:'Fredoka';color:#6b46c1}

.tab{
    display:flex;
    gap:15px;
    justify-content:center;
    margin-bottom:20px;
}
.tab button{
    padding:12px 25px;
    border:none;
    border-radius:20px;
    font-family:'Fredoka';
    cursor:pointer;
}
.tab .active{background:#ff6b9d;color:white}

.card{
    background:white;
    padding:25px;
    border-radius:25px;
}

input,select{
    width:100%;
    padding:12px;
    margin-top:10px;
    border-radius:15px;
    border:2px solid #ddd;
}

.moods{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:10px;
    margin-top:15px;
}
.mood{
    background:#ffeaa7;
    border-radius:20px;
    padding:20px;
    text-align:center;
    font-size:32px;
    cursor:pointer;
}
.mood.active{
    background:#a8edea;
    box-shadow:0 0 15px rgba(0,0,0,.2);
}

button.submit{
    margin-top:20px;
    width:100%;
    padding:15px;
    font-size:18px;
    font-family:'Fredoka';
    border:none;
    border-radius:20px;
    background:#ff6b9d;
    color:white;
    cursor:pointer;
}

.list{margin-top:20px}
.item{
    background:#f9f9ff;
    padding:15px;
    border-radius:20px;
    margin-bottom:10px;
}
.item span{font-size:26px}
</style>
</head>

<body>
<div class="container">

<div class="header">
<h1>ğŸ“š Absensi Perpustakaan</h1>
<p>Hari ini kamu merasa apa?</p>
</div>

<div class="tab">
<button id="btnForm" class="active" onclick="showTab('form')">ğŸ“ Form</button>
<button id="btnData" onclick="showTab('data')">ğŸ“Š Data</button>
</div>

<!-- FORM -->
<div id="form" class="card">
<input id="nama" placeholder="Nama">
<input id="kelas" placeholder="Kelas">
<select id="tujuan">
<option value="">Tujuan</option>
<option>Membaca</option>
<option>Pinjam Buku</option>
<option>Tugas</option>
</select>

<div class="moods">
<div class="mood" data="ğŸ˜„ Senang">ğŸ˜„</div>
<div class="mood" data="ğŸ˜¢ Sedih">ğŸ˜¢</div>
<div class="mood" data="ğŸ˜¡ Marah">ğŸ˜¡</div>
<div class="mood" data="ğŸ˜´ Lelah">ğŸ˜´</div>
<div class="mood" data="ğŸ¤¯ Stres">ğŸ¤¯</div>
<div class="mood" data="ğŸ˜ Biasa">ğŸ˜</div>
</div>

<button class="submit" onclick="simpan()">Absen ğŸ’–</button>
</div>

<!-- DATA -->
<div id="data" class="card" style="display:none">
<h3>ğŸ“‹ Data Absensi</h3>
<div id="list" class="list"></div>
</div>

</div>

<script>
let mood="";

document.querySelectorAll('.mood').forEach(m=>{
    m.onclick=()=>{
        document.querySelectorAll('.mood').forEach(x=>x.classList.remove('active'));
        m.classList.add('active');
        mood=m.getAttribute('data');
    }
});

function simpan(){
    const nama=namaInput.value;
    const kelas=kelasInput.value;
    const tujuan=tujuanSelect.value;

    if(!nama||!kelas||!tujuan||!mood){
        alert("ISI SEMUA ğŸ˜¡");
        return;
    }

    const data={
        nama,kelas,tujuan,mood,
        waktu:new Date().toLocaleString()
    };

    const arr=JSON.parse(localStorage.getItem("absensi"))||[];
    arr.push(data);
    localStorage.setItem("absensi",JSON.stringify(arr));

    tampil();
    showTab('data');
}

function tampil(){
    const list=document.getElementById("list");
    list.innerHTML="";
    const arr=JSON.parse(localStorage.getItem("absensi"))||[];

    if(arr.length==0){
        list.innerHTML="<p>Belum ada data</p>";
        return;
    }

    arr.forEach(a=>{
        list.innerHTML+=`
        <div class="item">
        <b>${a.nama}</b> (${a.kelas})<br>
        ${a.tujuan}<br>
        <span>${a.mood}</span><br>
        <small>${a.waktu}</small>
        </div>`;
    });
}

function showTab(tab){
    form.style.display=tab=='form'?'block':'none';
    data.style.display=tab=='data'?'block':'none';
    btnForm.classList.toggle('active',tab=='form');
    btnData.classList.toggle('active',tab=='data');
    tampil();
}

const namaInput=document.getElementById("nama");
const kelasInput=document.getElementById("kelas");
const tujuanSelect=document.getElementById("tujuan");

tampil();
</script>

</body>
</html>
