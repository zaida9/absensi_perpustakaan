<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Absensi Perpustakaan LazuardiğŸ“š</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Poppins&display=swap" rel="stylesheet">

<style>
body{
    font-family:'Poppins',sans-serif;
    background:linear-gradient(135deg,#a8edea,#fed6e3);
    padding:20px;
}
.container{max-width:1000px;margin:auto}
.header{
    background:white;border-radius:25px;padding:30px;text-align:center;margin-bottom:20px;
}
.header h1{font-family:'Fredoka';color:#6b46c1}
.tab{display:flex;gap:15px;justify-content:center;margin-bottom:20px}
.tab button{
    padding:12px 25px;border:none;border-radius:20px;
    font-family:'Fredoka';cursor:pointer;background:white
}
.tab .active{background:#ff6b9d;color:white}
.card{background:white;padding:25px;border-radius:25px}
input,select{
    width:100%;padding:12px;margin-top:10px;border-radius:15px;border:2px solid #ddd
}
.moods{
    display:grid;grid-template-columns:repeat(3,1fr);
    gap:10px;margin-top:15px
}
.mood{
    background:#ffeaa7;border-radius:20px;padding:20px;
    text-align:center;font-size:32px;cursor:pointer
}
.mood.active{
    background:#a8edea;box-shadow:0 0 15px rgba(0,0,0,.2)
}
button.submit{
    margin-top:20px;width:100%;padding:15px;font-size:18px;
    font-family:'Fredoka';border:none;border-radius:20px;
    background:#ff6b9d;color:white;cursor:pointer
}
table{
    width:100%;border-collapse:collapse;margin-top:20px;
    border-radius:20px;overflow:hidden
}
thead{background:#ff6b9d;color:white;font-family:'Fredoka'}
th,td{padding:12px;text-align:center}
tbody tr:nth-child(even){background:#f7f7ff}
</style>
</head>

<body>
<div class="container">

<div class="header">
<h1>ğŸ“š Absensi Perpustakaan Lazuardi</h1>
<p>Welcome To The Library âœ¨</p>
</div>

<div class="tab">
<button id="btnForm" class="active" onclick="showTab('form')">ğŸ“ Form</button>
<button id="btnData" onclick="showTab('data')">ğŸ“Š Data</button>
</div>

<!-- FORM -->
<div id="form" class="card">

<input id="nama" placeholder="Nama">
    
<select id="jenjang">
<option value="">Pilih Jenjang</option>
<option>Pra TK</option>
<option>TK</option>
<option>SD</option>
<option>SMP</option>
<option>Guru</option>
<option>Karyawan</option>
</select>

<input id="kelas" placeholder="Kelas (contoh: A, 1A, 7B)">


<select id="tujuan">
<option value="">Tujuan</option>
<option>Library visit</option>
<option>Membaca di jam istirahat/pulang</option>
<option>Pinjam Buku</option>
<option>Tugas</option>
</select>

<div class="moods">
<div class="mood" data-mood="ğŸ˜„ Senang">ğŸ˜„</div>
<div class="mood" data-mood="ğŸ˜¢ Sedih">ğŸ˜¢</div>
<div class="mood" data-mood="ğŸ˜¡ Marah">ğŸ˜¡</div>
<div class="mood" data-mood="ğŸ˜´ Lelah">ğŸ˜´</div>
<div class="mood" data-mood="ğŸ¤¯ Stres">ğŸ¤¯</div>
<div class="mood" data-mood="ğŸ˜ Biasa">ğŸ˜</div>
</div>

<button class="submit" onclick="simpan()">Absen ğŸ’–</button>
</div>

<!-- DATA -->
<div id="data" class="card" style="display:none">
<h3 style="text-align:center;font-family:Fredoka;color:#6b46c1">ğŸ“… Pilih Tanggal</h3>

<input type="date" id="pilihTanggal" onchange="tampil()">

<table>
<thead>
<tr>
<th>No</th>
<th>Nama</th>
<th>Jenjang</th>
<th>Kelas</th>
<th>Tujuan</th>
<th>Mood</th>
<th>Waktu</th>
</tr>
</thead>
<tbody id="list"></tbody>
</table>
</div>

</div>

<script>
let moodDipilih="";

const today = new Date().toISOString().split("T")[0];
document.getElementById("pilihTanggal").value = today;

document.querySelectorAll(".mood").forEach(m=>{
    m.onclick=()=>{
        document.querySelectorAll(".mood").forEach(x=>x.classList.remove("active"));
        m.classList.add("active");
        moodDipilih=m.dataset.mood;
    }
});

function getData(){
    return JSON.parse(localStorage.getItem("absensiHarian")) || {};
}

function simpan(){
    const nama=document.getElementById("nama").value;
    const jenjang=document.getElementById("jenjang").value;
    const kelas=document.getElementById("kelas").value;
    const tujuan=document.getElementById("tujuan").value;

    if(!jenjang||!kelas||!nama||!tujuan||!moodDipilih){
        alert("Lengkapi semua data ğŸ˜¡");
        return;
    }

    const allData=getData();
    if(!allData[today]) allData[today]=[];

    allData[today].push({
        nama,jenjang,kelas,tujuan,
        mood:moodDipilih,
        waktu:new Date().toLocaleTimeString()
    });

    localStorage.setItem("absensiHarian",JSON.stringify(allData));
    showTab("data");
}

function tampil(){
    const tanggal=document.getElementById("pilihTanggal").value;
    const list=document.getElementById("list");
    list.innerHTML="";

    const allData=getData();
    const data=allData[tanggal]||[];

    if(data.length===0){
        list.innerHTML=`<tr><td colspan="7">Tidak ada data</td></tr>`;
        return;
    }

    data.forEach((a,i)=>{
        list.innerHTML+=`
        <tr>
        <td>${i+1}</td>
         <td>${a.nama}</td>
        <td>${a.jenjang}</td>
        <td>${a.kelas}</td>
        <td>${a.tujuan}</td>
        <td>${a.mood}</td>
        <td>${a.waktu}</td>
        </tr>`;
    });
}

function showTab(tab){
    form.style.display = tab==="form"?"block":"none";
    data.style.display = tab==="data"?"block":"none";
    btnForm.classList.toggle("active",tab==="form");
    btnData.classList.toggle("active",tab==="data");
    tampil();
}

tampil();
</script>

</body>
</html>
